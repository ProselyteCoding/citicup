# RiskFX前端文档

## 1. Installation and Startup / 安装与启动

### 1.1 Prerequisites / 前提条件

- [Node.js](https://nodejs.org/) (推荐最新版或 LTS)
- npm (或 yarn)

### 1.2 Installation / 安装

```bash
npm install
# or using yarn:
# yarn install
```

### 1.3 Development / 开发环境

Start the dev server with:

```bash
npm run dev
# or using yarn:
# yarn dev
```

Then open [http://localhost:5173](http://localhost:3000) in your browser.

在浏览器中打开 [http://localhost:5173](http://localhost:3000)。

### 1.4 Production Build / 生产构建

Build the project with:

```bash
npm run build
# or using yarn:
# yarn build
```

### 1.5 Preview Build / 预览构建

Preview the production build locally with:

```bash
npm run preview
# or using yarn:
# yarn preview
```

## 2. 具体实现设计

由于页面样式设计已完成，此部分只做逻辑部分实现的解释说明，而无布局样式的说明。旨在向前端负责人员解释逻辑数据是通过后端接口获取还是前端处理计算可得，以方便编写相应的逻辑代码。

### 2.1 页面共有部分

- ~~顶部导航栏：包含四个按钮，左三个依次对应页面一二三的路由跳转，最后一个按钮点击后实现页面三的截屏下载（可使用html2canvas实现，这块可交给 wyf 实现）。~~
- ~~已实现以pdf的形式下载~~

### 2.2 前端已有数据

~~通过页面三的上传按钮，前端应获取到用户上传的.csv/.xls/.xlsx格式的持仓数据文件，并将其内容解析成前端可处理的格式。这些数据应在页面二和页面三均可使用。~~
- 暂时只实现了.csv

### 2.3 页面一 市场仪表盘（后端）

此页面数据通过后端爬取外部网站获取。

*参考网站及爬取方式待补充。*

### 2.4 页面二 风险可视化

#### 2.4.1 货币敞口分布

- 其中的每一项是`货币对`而非demo中的`货币`，应该是`USD/JPY`这样的格式。
- 敞口分布由前端根据已有数据计算得出，无需后端。

#### 2.4.2 高风险货币列表

- 显示风险最高的两种货币对及其敞口比例，无需后端。

#### 2.4.3 账期风险分布（后端）

- 向**后端**请求四个时间段的风险指数数据(json对象)后绘图。

#### 2.4.4 风险传导路径（后端）

- 向**后端**请求路径数据(array)后，按数组正序依次绘制路径和每种货币对的权重（用圆的半径表示）得出绘图。
- 其中的每一项是`货币对`而非demo中的`货币`，应该是`USD/JPY`这样的格式。

#### 2.4.5 ERI与风险信号分析（后端）

- 均向**后端**请求数据，依据后端数据绘图。

#### 2.4.6 单一货币对回测分析（后端）

- `实际汇率`由外部网站爬取真实数据，后端。
- `预测区间上限`和`预测区间下限`需向**后端**发送请求获取。

### 2.5 页面三 企业决策

#### 2.5.1 多币种敞口分析

- 最下面`主要风险敞口`需向**后端**发送请求，解析后端数据。
- （组合波动率、夏普比率由后端计算后传入）？
- ~~其余数据根据上传数据处理即可，无需后端。~~

#### 2.5.2 压力测试结果（后端）

- ~~此处相对原demo需进行修改，新增输入框和提交按钮用于增加`假设情景`（假设情景为string类型，如“爆发全球金融危机”）。~~
- 在输入框中输入假设情景、点击提交按钮后，向**后端**发送请求，传送假设情景数据并接受后端对应的预测分析数据，将结构显示在表格和图像上。

#### 2.5.3 历史回测分析（我有大大的疑惑）
这个感觉缺数据啊，用户上传的csv能不能提供一个模版？
要不后端算完和组合波动率、夏普比率一起传过来吧？

- 历史数据待补充（最后实现即可）
- 关于累计收益率等四个数据的计算公式，见群里的公式文档

#### 2.5.4 智能交易执行系统（后端）

- 向**后端**发送对应请求，数据均由后端提供。
- 最下面`执行对冲策略`按钮删除，直接按demo显示图表即可。
